<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Descubrir</title>
    <link rel="icon" href="../imagenes/icono.png" type="image/png" />
    <link rel="stylesheet" href="../css/normalize.css" />
    <link rel="stylesheet" href="../css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
  </head>
  <body>
    <header>
      <div class="topnav">
        <menu>
          <li><img src="../imagenes/icono.png" alt="alt" class="img" /></li>
          <li><a href="../index.html">Inicio</a></li>
          <li><a href="descubrir.html">Descubrir</a></li>
          <li><a href="nosotros.html">Sobre nosotros</a></li>
          <li><a href="contacto.html">Contacto</a></li>
        </menu>
        <div id="menu-buttons">
          <a href="html/login.html" id="login-button" class="sesion"
            >Inicio Sesión</a
          >
        </div>
      </div>
    </header>
    <div class="content">
      <div class="contenedor">
        <div class="caja">
          <h2>
            Científicos demuestran que la ludopatia es buena para la salud
          </h2>
          <img src="../imagenes/ruleta.jpg" alt="alt" />
          <p class="texto">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
            eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim
            ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
            aliquip ex ea commodo consequat. Duis aute irure dolor in
            reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
            pariatur. Excepteur sint occaecat cupidatat non proident, sunt in
            culpa qui officia deserunt mollit anim id est laborum.
          </p>
        </div>
        <div class="caja">
          <h2>Nuevo método para adelgazar</h2>
          <img src="../imagenes/adelgazar.jpeg" alt="alt" />
          <p class="texto">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
            eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim
            ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
            aliquip ex ea commodo consequat. Duis aute irure dolor in
            reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
            pariatur. Excepteur sint occaecat cupidatat non proident, sunt in
            culpa qui officia deserunt mollit anim id est laborum.
          </p>
        </div>
      </div>
      <div class="contenedor">
        <div class="caja">
          <h2>
            A la pregunta de "cómo cocinaban los romanos surcando los mares
            durante meses", la ciencia acaba de encontrar respuesta
          </h2>
          <img src="../imagenes/romanos.jpeg" alt="alt" />
          <p class="texto">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
            eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim
            ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
            aliquip ex ea commodo consequat. Duis aute irure dolor in
            reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
            pariatur. Excepteur sint occaecat cupidatat non proident, sunt in
            culpa qui officia deserunt mollit anim id est laborum.
          </p>
        </div>
        <div class="caja">
          <h2>
            Hay gente pagando 10 euros por un tour turístico en una rotonda. El
            motivo: está bajo el demencial Spaghetti Junction
          </h2>
          <img src="../imagenes/rotonda.jpeg" alt="alt" />
          <p class="texto">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
            eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim
            ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
            aliquip ex ea commodo consequat. Duis aute irure dolor in
            reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
            pariatur. Excepteur sint occaecat cupidatat non proident, sunt in
            culpa qui officia deserunt mollit anim id est laborum.
          </p>
        </div>
      </div>
    </div>
    <div class="footer">
      <a href="https://www.instagram.com/?hl=es" target="_blank"
        ><i class="fab fa-instagram"></i
      ></a>
      <a href="https://www.facebook.com/?locale=es_ES" target="_blank"
        ><i class="fab fa-facebook"></i
      ></a>
      <a href="https://x.com/?lang=es" target="_blank"
        ><i class="fab fa-twitter"></i
      ></a>
      <a href="https://www.reddit.com" target="_blank"
        ><i class="fab fa-reddit"></i
      ></a>
      <br />
      <p>
        Copyright Soluciones Digitales @2024<br />Todos Los Derechos Reservados.
      </p>
    </div>
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
      import {
        getAuth,
        onAuthStateChanged,
        signOut,
      } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

      const firebaseConfig = {
        apiKey: "AIzaSyDO_w8Qw5gRKQhlOV_ILYHniKKrpvyVyD8",
        authDomain: "formularios-65e79.firebaseapp.com",
        databaseURL: "https://formularios-65e79-default-rtdb.firebaseio.com",
        projectId: "formularios-65e79",
        storageBucket: "formularios-65e79.appspot.com",
        messagingSenderId: "8486015186",
        appId: "1:8486015186:web:87d944a9ba1483c616dd0b",
        measurementId: "G-WP3LC7KKJV",
      };

      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);

      // Detectar el estado de autenticación
      onAuthStateChanged(auth, (user) => {
        const menuButtons = document.getElementById("menu-buttons");
        if (user) {
          // Usuario autenticado
          menuButtons.innerHTML = `
            <a href="html/estadisticas.html" class="sesion">Estadísticas</a>
            <button id="logout-button" class="sesion">Cerrar Sesión</button>
          `;

          // Manejar el cierre de sesión
          document
            .getElementById("logout-button")
            .addEventListener("click", async () => {
              try {
                await signOut(auth);
                alert("Has cerrado sesión.");
                location.reload(); // Recargar para actualizar el menú
              } catch (error) {
                console.error("Error al cerrar sesión:", error);
              }
            });
        } else {
          // Usuario no autenticado
          menuButtons.innerHTML = `
            <a href="html/login.html" id="login-button" class="sesion">Inicio Sesión</a>
          `;
        }
      });
    </script>
  </body>
</html>

  </body>
</html>
